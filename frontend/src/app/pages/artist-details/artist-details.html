<div class="details-container">
  <header class="details-header">
    <a routerLink="/home" class="back-link">
      <span class="material-icons">arrow_back</span>
      Voltar para a Home
    </a>
  </header>

  @if (artistFacade.isLoading()) {
  <div class="loading-state">
    <span class="material-icons spinning">sync</span>
    <p>Carregando detalhes do artista...</p>
  </div>
  } @else if (artistFacade.selectedArtist()) {
  <section class="artist-hero">
    <div class="artist-info">
      <div class="avatar-large">
        {{ artistFacade.selectedArtist()?.name?.charAt(0)?.toUpperCase() }}
      </div>
      <div class="text-content">
        <h1>{{ artistFacade.selectedArtist()?.name }}</h1>
        <p class="description">{{ artistFacade.selectedArtist()?.description }}</p>
      </div>
    </div>
  </section>

  <section class="albums-section">
    <div class="section-title">
      <span class="material-icons">album</span>
      <h2>Álbuns</h2>
    </div>

    @if (artistFacade.isLoadingAlbums()) {
    <p class="loading-text">Buscando álbuns...</p>
    } @else {
    <div class="albums-grid">
      @for (album of artistFacade.artistAlbums(); track album.id) {
      <div class="album-card">
        <div class="album-cover-placeholder">
          <span class="material-icons">music_note</span>
        </div>
        <div class="album-details">
          <h3 class="album-title">{{ album.title }}</h3>
          <p class="album-year">{{ album.releasedAt | date:'yyyy' }}</p>
        </div>
      </div>
      } @empty {
      <p class="no-data">Nenhum álbum encontrado para este artista.</p>
      }
    </div>
    }
  </section>
  } @else {
  <div class="error-state">
    <span class="material-icons">error</span>
    <p>{{ artistFacade.errorMessage() || 'Não foi possível carregar os detalhes deste artista.' }}</p>
    <a routerLink="/home" class="btn-retry">Voltar para a Home</a>
  </div>
  }
</div>
